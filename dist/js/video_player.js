window.addEventListener("load",function(){function e(){return Math.floor(20*Math.random())}function t(e,t){var i,o;return"ID"===e?o="?i=":"Title"===e&&(o="?t="),requestURl="https://www.omdbapi.com/"+o+t+"&apikey=3a2d81a4",$.ajax({url:requestURl,type:"GET",dataType:"json",async:!1,success:function(e){i=e}}),i}function o(e,i){var o;console.log("przed",e),"JSON"===i?o=t("ID",e.id):"OMDB"===i&&(o=t("ID",e.imdbID)),console.log("po",o),$(".filmTitle").text(o.Title),$(".filmDescriptionP1").text(o.Plot),$(".filmGenre").text(o.Genre),$(".filmDirector").text(o.Director),$(".filmYear").text(o.Year),$(".filmRuntime").text(o.Runtime),$(".filmWriter").text(o.Writer),$(".filmActors").text(o.Actors),$(".filmRating").text(o.Arating),$(".filmPoster").attr("src",o.Poster),$("#readAboutFilm").attr("href","http://www.imdb.com/title/"+e.id+"/"),$("#videoBackground").attr("poster",o.Poster),$("#videoBackground").children().attr("src",e.url)}function n(e){var o,n;for(i=0;i<e.length;i++)o="",o+='<div class="videoBox">',o+='<img src="'+(n=t("ID",e[i].id)).Poster+'">',o+='<i class="fa fa-play-circle"></i>',o+="<p>"+n.Title+"</p>",o+="</div>",$(".videoBoxes").append(o)}function r(e){console.log(e)}function l(e){var i;i=t("Title",e),console.log("2 - > Search Input",i),o(i,"OMDB")}var c=document.querySelector(".btnWatchVideo"),a=document.querySelector(".menuSearch"),s=document.querySelector(".expandedBox"),d=document.querySelector(".smallBox");!function(){var t;$.getJSON("src/omdb_id.json").then(function(i){moviesArray=i.movies,t=e(),o(moviesArray[t],"JSON"),n(moviesArray)})}(),function(){c.addEventListener("click",function(){r("URL")}),a.addEventListener("click",function(){s.value=""}),a.addEventListener("mouseenter",function(){d.style.display="none",s.style.display="block",a.classList.add("mouseSearchClick"),s.value="Wpisz film"}),a.addEventListener("mouseleave",function(){d.style.display="block",s.style.display="none",a.classList.remove("mouseSearchClick"),s.value="Wpisz film"}),a.addEventListener("keyup",function(e){13!=e.which&&13!=e.keyCode||l(s.value)})}()});